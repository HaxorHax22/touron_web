<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#f97316" />
    <meta name="description" content="Plan your perfect Iceland adventure in under 60 seconds with AI-powered personalized itineraries" />
    <title>TourOn – Your Iceland Adventure, Planned in Seconds</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
      
      * {
        font-family: 'Inter', sans-serif;
      }

      /* Fixed background for entire page */
      body {
        background-image: url('background_northern_lights.jpg');
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        background-color: #0f172a; /* Fallback color */
        min-height: 100vh;
        line-height: 1.6;
      }

      /* Ensure background works on mobile */
      @media (max-width: 768px) {
        body {
          background-attachment: scroll;
        }
      }

      /* Fallback if background doesn't load */
      body.no-bg-image {
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
      }

      /* Ensure background covers everything */
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(0, 0, 0, 0.3) 0%, rgba(15, 23, 42, 0.4) 50%, rgba(0, 0, 0, 0.3) 100%);
        z-index: -2;
      }
      
      .gradient-bg {
        background: linear-gradient(135deg, rgba(249, 115, 22, 0.9) 0%, rgba(234, 88, 12, 0.9) 100%);
      }
      
      .glass-effect {
        backdrop-filter: blur(24px);
        -webkit-backdrop-filter: blur(24px);
        background: rgba(15, 23, 42, 0.88);
        border: 1px solid rgba(255, 255, 255, 0.12);
        box-shadow: 
          0 8px 32px rgba(0, 0, 0, 0.4),
          0 0 0 1px rgba(255, 255, 255, 0.05) inset;
      }

      .glass-effect-light {
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        background: rgba(15, 23, 42, 0.75);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 
          0 4px 24px rgba(0, 0, 0, 0.25),
          0 0 0 1px rgba(255, 255, 255, 0.03) inset;
      }

      .glass-card {
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        background: rgba(15, 23, 42, 0.65);
        border: 1px solid rgba(255, 255, 255, 0.06);
        box-shadow: 
          0 2px 16px rgba(0, 0, 0, 0.2),
          0 0 0 1px rgba(255, 255, 255, 0.02) inset;
      }
      
      .animate-float {
        animation: float 8s ease-in-out infinite;
      }
      
      @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        33% { transform: translateY(-12px) rotate(2deg); }
        66% { transform: translateY(-8px) rotate(-1deg); }
      }
      
      .animate-fade-in {
        animation: fadeIn 1.2s ease-out;
      }
      
      @keyframes fadeIn {
        0% { opacity: 0; transform: translateY(30px) scale(0.98); }
        100% { opacity: 1; transform: translateY(0) scale(1); }
      }

      .animate-slide-up {
        animation: slideUp 0.8s ease-out;
      }

      @keyframes slideUp {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
      }
      
      .custom-checkbox:checked {
        background-color: #f97316;
        border-color: #f97316;
        background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e");
      }
      
      .custom-radio:checked {
        background-color: #f97316;
        border-color: #f97316;
        background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");
      }
      
      .loading-spinner {
        border: 2px solid rgba(249, 115, 22, 0.2);
        border-top: 2px solid #f97316;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      .hover-lift {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .hover-lift:hover {
        transform: translateY(-6px) scale(1.02);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
      }

      .hover-subtle {
        transition: all 0.3s ease;
      }

      .hover-subtle:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.3);
      }
      
      .input-group {
        position: relative;
      }
      
      .input-group input:focus + .input-icon {
        color: #f97316;
      }
      
      html {
        scroll-behavior: smooth;
      }
      
      .section-divider {
        background: linear-gradient(90deg, transparent, rgba(249, 115, 22, 0.4), transparent);
        height: 2px;
        margin: 4rem 0;
        border-radius: 1px;
      }

      /* Enhanced floating elements */
      .floating-element {
        position: absolute;
        background: rgba(249, 115, 22, 0.25);
        border-radius: 50%;
        animation: float 10s ease-in-out infinite;
        filter: blur(1px);
      }

      .floating-element:nth-child(2) {
        animation-delay: 2.5s;
        background: rgba(249, 115, 22, 0.15);
      }

      .floating-element:nth-child(3) {
        animation-delay: 5s;
        background: rgba(249, 115, 22, 0.3);
      }

      .floating-element:nth-child(4) {
        animation-delay: 7.5s;
        background: rgba(249, 115, 22, 0.2);
      }

      /* Custom input styling */
      .custom-input {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
      }

      .custom-input:focus {
        transform: translateY(-1px);
        box-shadow: 
          0 0 0 3px rgba(249, 115, 22, 0.1),
          0 8px 16px rgba(0, 0, 0, 0.2);
      }

      /* Custom Flatpickr styling */
      .flatpickr-calendar {
        background: rgba(15, 23, 42, 0.95) !important;
        backdrop-filter: blur(24px);
        border: 1px solid rgba(249, 115, 22, 0.2) !important;
        border-radius: 16px !important;
        box-shadow: 
          0 25px 50px rgba(0, 0, 0, 0.5),
          0 0 0 1px rgba(255, 255, 255, 0.05) inset !important;
        overflow: hidden;
      }
      
      .flatpickr-months {
        background: transparent !important;
        padding: 16px !important;
      }
      
      .flatpickr-month {
        color: #f97316 !important;
        font-weight: 600 !important;
      }
      
      .flatpickr-weekdays {
        background: rgba(249, 115, 22, 0.1) !important;
        padding: 8px 0 !important;
      }
      
      .flatpickr-weekday {
        color: #f97316 !important;
        font-weight: 600 !important;
        font-size: 11px !important;
        text-transform: uppercase !important;
        letter-spacing: 1px !important;
      }
      
      .flatpickr-day {
        color: #ffffff !important;
        border-radius: 10px !important;
        margin: 2px !important;
        transition: all 0.2s ease !important;
      }
      
      .flatpickr-day:hover {
        background: rgba(249, 115, 22, 0.15) !important;
        color: #f97316 !important;
        transform: scale(1.1) !important;
      }
      
      .flatpickr-day.selected {
        background: linear-gradient(135deg, #f97316, #ea580c) !important;
        color: white !important;
        font-weight: 600 !important;
        transform: scale(1.05) !important;
      }
      
      .flatpickr-day.inRange {
        background: rgba(249, 115, 22, 0.2) !important;
        color: #f97316 !important;
      }
      
      .flatpickr-day.startRange,
      .flatpickr-day.endRange {
        background: linear-gradient(135deg, #f97316, #ea580c) !important;
        color: white !important;
        font-weight: 600 !important;
      }
      
      .flatpickr-prev-month,
      .flatpickr-next-month {
        color: #f97316 !important;
        transition: all 0.2s ease !important;
      }
      
      .flatpickr-prev-month:hover,
      .flatpickr-next-month:hover {
        color: #ea580c !important;
        background: rgba(249, 115, 22, 0.1) !important;
      }

      /* Ensure all sections have proper spacing */
      .page-section {
        position: relative;
        z-index: 1;
      }

      /* Button enhancements */
      .btn-primary {
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        box-shadow: 
          0 4px 16px rgba(249, 115, 22, 0.4),
          0 0 0 1px rgba(255, 255, 255, 0.1) inset;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .btn-primary:hover {
        background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%);
        box-shadow: 
          0 8px 32px rgba(249, 115, 22, 0.6),
          0 0 0 1px rgba(255, 255, 255, 0.15) inset;
        transform: translateY(-2px) scale(1.02);
      }

      /* Progress indicator improvements */
      .progress-step {
        transition: all 0.4s ease;
      }

      .progress-step.active {
        transform: scale(1.1);
      }

      .progress-step.active .step-number {
        background: linear-gradient(135deg, #f97316, #ea580c);
        box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
      }

      /* Typography improvements */
      h1, h2, h3, h4, h5, h6 {
        font-weight: 700;
        letter-spacing: -0.025em;
        line-height: 1.2;
      }

      .text-gradient {
        background: linear-gradient(135deg, #f97316, #ea580c);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      /* Improved spacing utilities */
      .space-y-fluid > * + * {
        margin-top: clamp(1rem, 4vw, 2rem);
      }

      /* Mobile optimizations */
      @media (max-width: 768px) {
        .floating-element {
          display: none;
        }
        
        .glass-effect, .glass-effect-light, .glass-card {
          backdrop-filter: blur(12px);
          -webkit-backdrop-filter: blur(12px);
        }

        /* Mobile typography */
        h1 {
          font-size: 3rem !important;
        }

        h2 {
          font-size: 2.5rem !important;
          line-height: 1.1 !important;
        }

        h3 {
          font-size: 1.5rem !important;
        }

        /* Mobile spacing */
        .glass-effect {
          padding: 1.5rem !important;
          margin: 1rem !important;
        }

        .glass-effect-light {
          padding: 1.25rem !important;
        }

        .glass-card {
          padding: 1rem !important;
        }

        /* Mobile form optimizations */
        .grid.md\\:grid-cols-2 {
          grid-template-columns: 1fr !important;
          gap: 1rem !important;
        }

        .grid.md\\:grid-cols-3 {
          grid-template-columns: 1fr !important;
          gap: 1rem !important;
        }

        .grid.grid-cols-2.lg\\:grid-cols-3 {
          grid-template-columns: 1fr !important;
          gap: 0.75rem !important;
        }

        /* Mobile button sizing */
        button {
          padding: 1rem 1.5rem !important;
          font-size: 1rem !important;
        }

        .btn-primary {
          padding: 1.25rem 2rem !important;
        }

        /* Mobile input sizing */
        input, select, textarea {
          padding: 0.875rem 1rem !important;
          font-size: 1rem !important;
        }

        /* Mobile progress indicator */
        .progress-step span {
          font-size: 0.75rem !important;
        }

        .progress-step .step-number {
          width: 2rem !important;
          height: 2rem !important;
          font-size: 0.875rem !important;
        }

        /* Mobile value propositions */
        .grid.md\\:grid-cols-3 > div {
          text-align: center;
          padding: 1.5rem 1rem !important;
        }

        /* Mobile hero adjustments */
        .text-7xl {
          font-size: 3rem !important;
        }

        .text-6xl {
          font-size: 2.25rem !important;
        }

        .text-5xl {
          font-size: 2rem !important;
        }

        .text-xl {
          font-size: 1.125rem !important;
        }

        /* Mobile section spacing */
        section {
          padding: 2rem 1rem !important;
        }

        .py-20 {
          padding-top: 3rem !important;
          padding-bottom: 3rem !important;
        }

        .py-16 {
          padding-top: 2.5rem !important;
          padding-bottom: 2.5rem !important;
        }

                 /* Mobile checkbox/radio improvements */
         .grid.grid-cols-2.lg\\:grid-cols-3 label {
           flex-direction: row !important;
           text-align: left !important;
           padding: 1rem !important;
           align-items: flex-start !important;
         }

         .grid.grid-cols-2.lg\\:grid-cols-3 label input {
           margin: 0.25rem 0.75rem 0 0 !important;
           flex-shrink: 0 !important;
         }

         .grid.grid-cols-2.lg\\:grid-cols-3 label i {
           margin: 0 0.75rem 0 0 !important;
           flex-shrink: 0 !important;
         }

         .grid.grid-cols-2.lg\\:grid-cols-3 label div {
           flex: 1 !important;
         }

        /* Mobile travel pace cards */
        .grid.md\\:grid-cols-3 label {
          padding: 1.25rem !important;
        }

        /* Touch-friendly interactions */
        button, input, label {
          min-height: 44px;
        }

        /* Mobile calendar adjustments */
        .flatpickr-calendar {
          font-size: 0.875rem !important;
        }
      }

             /* Desktop optimizations */
       @media (min-width: 769px) {
         body {
           background-attachment: fixed;
         }
       }

       /* Tablet optimizations */
       @media (min-width: 769px) and (max-width: 1024px) {
         .glass-effect {
           padding: 2rem;
         }

         .text-6xl {
           font-size: 3.5rem;
         }

         .text-5xl {
           font-size: 2.5rem;
         }

         /* Tablet grid adjustments */
         .grid.lg\\:grid-cols-3 {
           grid-template-columns: repeat(2, 1fr) !important;
         }
       }

             /* Small mobile (phones in portrait) */
       @media (max-width: 480px) {
         .glass-effect {
           margin: 0.5rem !important;
           border-radius: 1rem !important;
         }

         .rounded-3xl {
           border-radius: 1rem !important;
         }

         .rounded-2xl {
           border-radius: 0.75rem !important;
         }

         /* Extra small text adjustments */
         .text-6xl {
           font-size: 2rem !important;
         }

         .text-2xl {
           font-size: 1.25rem !important;
         }

         /* Compact progress indicator */
         .progress-step {
           flex-direction: column !important;
           align-items: center !important;
           gap: 0.25rem !important;
         }

         .flex-1.mx-6 {
           display: none !important;
         }

         /* Stack interest cards vertically on very small screens */
         .grid.grid-cols-2 {
           grid-template-columns: 1fr !important;
         }

         /* Ensure all grids are single column on small mobile */
         .grid.grid-cols-2.lg\\:grid-cols-3 {
           grid-template-columns: 1fr !important;
         }

         /* Mobile-first button sizing */
         .btn-primary {
           font-size: 0.875rem !important;
           padding: 1rem 1.5rem !important;
         }

         /* Adjust mobile form elements */
         .glass-card {
           padding: 0.75rem !important;
         }

         /* Better mobile spacing for interest cards */
         .grid.grid-cols-2.lg\\:grid-cols-3 label {
           padding: 0.75rem !important;
         }
       }

      /* Landscape phone optimization */
      @media (max-height: 500px) and (orientation: landscape) {
        .min-h-screen {
          min-height: auto !important;
          padding: 1rem 0 !important;
        }

        .glass-effect {
          padding: 1rem !important;
        }

        .text-6xl, .text-5xl {
          font-size: 1.875rem !important;
        }
      }

             /* High DPI displays */
       @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
         .glass-effect, .glass-effect-light, .glass-card {
           backdrop-filter: blur(16px);
           -webkit-backdrop-filter: blur(16px);
         }
       }

       /* Mobile calendar enhancements */
       .calendar-open {
         overflow: hidden;
       }

       @media (max-width: 768px) {
         .flatpickr-calendar {
           width: 100% !important;
           max-width: 320px !important;
           margin: 0 auto !important;
           left: 50% !important;
           transform: translateX(-50%) !important;
         }

         .flatpickr-months {
           padding: 1rem !important;
         }

         .flatpickr-day {
           width: 2.5rem !important;
           height: 2.5rem !important;
           line-height: 2.5rem !important;
         }
       }

       /* iOS Safari specific fixes */
       @supports (-webkit-touch-callout: none) {
         .glass-effect, .glass-effect-light, .glass-card {
           -webkit-backdrop-filter: blur(12px);
           backdrop-filter: blur(12px);
         }

         /* Fix iOS viewport height issues */
         .min-h-screen {
           min-height: -webkit-fill-available;
         }
       }

               /* Android Chrome specific fixes */
        @media screen and (max-width: 768px) {
          /* Prevent horizontal scrolling */
          body {
            overflow-x: hidden;
            /* Ensure background works on mobile */
            background-attachment: scroll;
          }

          /* Fix Android viewport issues */
          .min-h-screen {
            min-height: 100vh;
            min-height: calc(var(--vh, 1vh) * 100);
          }
        }

       /* PWA-like styling */
       @media (display-mode: standalone) {
         .glass-effect {
           margin-top: env(safe-area-inset-top);
         }
       }
    </style>
  </head>
  <body class="text-white">
    <!-- Hero Section -->
    <section class="min-h-screen flex items-center justify-center text-center px-6 relative page-section">
      <!-- Enhanced Floating elements -->
      <div class="floating-element w-4 h-4 top-20 left-10 opacity-60"></div>
      <div class="floating-element w-6 h-6 top-40 right-20 opacity-40"></div>
      <div class="floating-element w-3 h-3 bottom-32 left-20 opacity-50"></div>
      <div class="floating-element w-5 h-5 top-60 right-40 opacity-30"></div>
      
      <div class="glass-effect p-12 rounded-3xl max-w-4xl relative z-10 hover-lift animate-fade-in">
        <!-- Logo and Branding -->
        <div class="mb-8">
          <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl mb-6 shadow-lg">
            <i class="fas fa-mountain text-3xl text-white"></i>
          </div>
          <h1 class="text-7xl font-bold mb-3 text-orange-400 tracking-tight">TourOn</h1>
          <div class="w-32 h-1.5 bg-gradient-to-r from-orange-400 to-orange-600 mx-auto rounded-full"></div>
          <p class="text-lg text-orange-200 mt-3 font-medium">AI-Powered Iceland Adventure Planner</p>
        </div>
        
                 <!-- Main Headline -->
         <div class="mb-12 space-y-fluid">
           <h2 class="text-6xl font-extrabold mb-8 leading-tight">
             <span class="text-white">Your Perfect Iceland Adventure,</span><br />
             <span class="text-gradient">Planned in Under 60 Seconds</span>
           </h2>
           <p class="text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed">
             Skip the endless research. Our AI creates personalized Iceland itineraries based on your interests, pace, and travel dates. 
             <span class="text-gradient font-semibold">Real places, real experiences, zero hassle.</span>
           </p>
         </div>
        
        <!-- Value Propositions -->
        <div class="grid md:grid-cols-3 gap-6 mb-12 max-w-4xl mx-auto">
          <div class="glass-effect-light p-6 rounded-xl hover-lift">
            <div class="w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center mb-4 mx-auto">
              <i class="fas fa-clock text-2xl text-green-400"></i>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Save Hours of Planning</h3>
            <p class="text-gray-300 text-sm">No more juggling 20+ browser tabs. Get a complete itinerary instantly.</p>
          </div>
          <div class="glass-effect-light p-6 rounded-xl hover-lift">
            <div class="w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center mb-4 mx-auto">
              <i class="fas fa-brain text-2xl text-purple-400"></i>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Personalized for You</h3>
            <p class="text-gray-300 text-sm">AI tailored to your interests, travel pace, and dates.</p>
          </div>
          <div class="glass-effect-light p-6 rounded-xl hover-lift">
            <div class="w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center mb-4 mx-auto">
              <i class="fas fa-map-marked-alt text-2xl text-blue-400"></i>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Local Insider Knowledge</h3>
            <p class="text-gray-300 text-sm">Hidden gems and must-see spots curated by Iceland experts.</p>
          </div>
        </div>
        
        <!-- Enhanced CTA -->
        <div class="space-y-4">
          <a href="#form" class="inline-flex items-center gap-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white px-12 py-6 rounded-2xl font-bold text-xl hover:from-orange-600 hover:to-orange-700 transition-all duration-300 uppercase tracking-wide shadow-xl hover:shadow-2xl transform hover:scale-105">
            <i class="fas fa-magic text-2xl"></i>
            <span>Start Planning My Iceland Trip</span>
            <i class="fas fa-arrow-right"></i>
          </a>
          <p class="text-sm text-gray-400">
            <i class="fas fa-shield-alt mr-1"></i>
            Free to use • No signup required • Instant results
          </p>
        </div>
      </div>
    </section>

    <!-- Trip Form -->
    <section id="form" class="py-20 px-6 relative page-section">
      <!-- Section divider -->
      <div class="section-divider"></div>
      
      <!-- More floating elements for this section -->
      <div class="floating-element w-2 h-2 top-10 left-1/4 opacity-20"></div>
      <div class="floating-element w-4 h-4 top-20 right-1/3 opacity-30"></div>
      
      <div class="max-w-4xl mx-auto">
        <!-- Form Header -->
        <div class="text-center mb-12 animate-fade-in">
          <div class="glass-effect-light p-8 rounded-3xl hover-lift mb-8">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl mb-6 shadow-lg">
              <i class="fas fa-map-marked-alt text-2xl text-white"></i>
            </div>
            <h2 class="text-5xl font-bold mb-4 text-orange-300">Let's Plan Your Adventure</h2>
            <p class="text-xl text-gray-200 max-w-2xl mx-auto">Tell us a bit about yourself and what you'd love to experience in Iceland</p>
            <div class="w-40 h-1.5 bg-gradient-to-r from-orange-400 to-orange-600 mx-auto rounded-full mt-6"></div>
          </div>
        </div>
        
        <!-- Progress Indicator -->
                 <div class="glass-card p-6 rounded-2xl mb-12 max-w-2xl mx-auto hover-subtle">
           <div class="flex items-center justify-between text-sm">
             <div class="progress-step active flex items-center gap-3 text-orange-300">
               <div class="step-number w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg">1</div>
               <span class="font-semibold">Your Details</span>
             </div>
             <div class="flex-1 mx-6 h-1 bg-gray-600/50 rounded-full"></div>
             <div class="progress-step flex items-center gap-3 text-gray-400">
               <div class="step-number w-10 h-10 bg-gray-600/50 rounded-full flex items-center justify-center text-white font-bold">2</div>
               <span class="font-medium hidden sm:block">Preferences</span>
             </div>
             <div class="flex-1 mx-6 h-1 bg-gray-600/50 rounded-full"></div>
             <div class="progress-step flex items-center gap-3 text-gray-400">
               <div class="step-number w-10 h-10 bg-gray-600/50 rounded-full flex items-center justify-center text-white font-bold">3</div>
               <span class="font-medium hidden sm:block">Your Itinerary</span>
             </div>
           </div>
         </div>
        
        <form id="tripForm" class="space-y-8 glass-effect p-10 rounded-3xl hover-lift">
          <!-- Personal Information Section -->
          <div class="space-y-6">
            <div class="flex items-center gap-3 mb-6">
              <div class="w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center">
                <i class="fas fa-user text-orange-400"></i>
              </div>
              <h3 class="text-2xl font-bold text-orange-300">About You</h3>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6">
              <!-- Full Name -->
              <div class="input-group">
                <label class="flex items-center gap-2 text-sm font-semibold text-orange-200 mb-3">
                  <i class="fas fa-user"></i>Full Name
                  <span class="text-red-400">*</span>
                </label>
                <input 
                  type="text" 
                  id="name" 
                  required 
                  class="w-full px-6 py-4 rounded-xl bg-gray-700/40 text-white placeholder-gray-400 border border-gray-600/50 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 focus:outline-none custom-input" 
                  placeholder="Enter your full name"
                />
              </div>

              <!-- Email Address -->
              <div class="input-group">
                <label class="flex items-center gap-2 text-sm font-semibold text-orange-200 mb-3">
                  <i class="fas fa-envelope"></i>Email Address
                  <span class="text-red-400">*</span>
                </label>
                <input 
                  type="email" 
                  id="email" 
                  required 
                  class="w-full px-6 py-4 rounded-xl bg-gray-700/40 text-white placeholder-gray-400 border border-gray-600/50 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 focus:outline-none custom-input" 
                  placeholder="your@email.com"
                />
                <p class="text-xs text-gray-400 mt-1">We'll send your itinerary here (no spam, promise!)</p>
              </div>
            </div>
          </div>

          <!-- Travel Dates Section -->
          <div class="space-y-6 pt-8 border-t border-gray-600">
            <div class="flex items-center gap-3 mb-6">
              <div class="w-10 h-10 bg-blue-500/20 rounded-xl flex items-center justify-center">
                <i class="fas fa-calendar-alt text-blue-400"></i>
              </div>
              <h3 class="text-2xl font-bold text-orange-300">When Are You Visiting?</h3>
            </div>
            
            <div class="input-group">
              <label class="flex items-center gap-2 text-sm font-semibold text-orange-200 mb-3">
                <i class="fas fa-calendar-alt"></i>Travel Dates
                <span class="text-red-400">*</span>
              </label>
              <div class="relative">
                                  <input 
                    type="text" 
                    id="dates" 
                    placeholder="Click to select your travel dates" 
                    required 
                    readonly
                    class="w-full px-6 py-4 pl-14 rounded-xl bg-gray-700/40 text-white placeholder-gray-400 border border-gray-600/50 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 focus:outline-none custom-input cursor-pointer" 
                  />
                <i class="fas fa-calendar-alt absolute left-5 top-1/2 transform -translate-y-1/2 text-orange-400"></i>
              </div>
              <div class="flex items-center gap-4 mt-3 text-sm">
                <p class="text-gray-400 flex items-center gap-1">
                  <i class="fas fa-info-circle"></i>
                  Select check-in and check-out dates
                </p>
                <div id="seasonTip" class="text-orange-300 font-medium hidden"></div>
              </div>
            </div>
          </div>

          <!-- Travel Preferences Section -->
          <div class="space-y-6 pt-8 border-t border-gray-600">
            <div class="flex items-center gap-3 mb-6">
              <div class="w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center">
                <i class="fas fa-heart text-purple-400"></i>
              </div>
              <h3 class="text-2xl font-bold text-orange-300">What Excites You?</h3>
            </div>
            
            <!-- Interests -->
            <div>
              <label class="flex items-center gap-2 text-sm font-semibold text-orange-200 mb-4">
                <i class="fas fa-heart"></i>Choose your interests 
                <span class="text-gray-400 text-xs">(select all that apply)</span>
              </label>
              <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">
                                 <label class="flex items-center space-x-3 p-5 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                   <input type="checkbox" name="interests" value="Nature" class="w-5 h-5 custom-checkbox text-orange-500 bg-gray-700/50 border-gray-500 rounded focus:ring-orange-500 focus:ring-2" />
                   <i class="fas fa-leaf text-green-400 group-hover:text-green-300 text-lg"></i>
                   <div>
                     <span class="text-white group-hover:text-orange-200 font-semibold">Nature</span>
                     <p class="text-xs text-gray-400 group-hover:text-gray-300">Landscapes, wildlife</p>
                   </div>
                 </label>
                                 <label class="flex items-center space-x-3 p-5 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                   <input type="checkbox" name="interests" value="Waterfalls" class="w-5 h-5 custom-checkbox text-orange-500 bg-gray-700/50 border-gray-500 rounded focus:ring-orange-500 focus:ring-2" />
                   <i class="fas fa-tint text-blue-400 group-hover:text-blue-300 text-lg"></i>
                   <div>
                     <span class="text-white group-hover:text-orange-200 font-semibold">Waterfalls</span>
                     <p class="text-xs text-gray-400 group-hover:text-gray-300">Gullfoss, Skógafoss</p>
                   </div>
                 </label>
                <label class="flex items-center space-x-3 p-5 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                  <input type="checkbox" name="interests" value="Adventure" class="w-5 h-5 custom-checkbox text-orange-500 bg-gray-700/50 border-gray-500 rounded focus:ring-orange-500 focus:ring-2" />
                  <i class="fas fa-hiking text-red-400 group-hover:text-red-300 text-lg"></i>
                  <div>
                    <span class="text-white group-hover:text-orange-200 font-semibold">Adventure</span>
                    <p class="text-xs text-gray-400 group-hover:text-gray-300">Hiking, glaciers</p>
                  </div>
                </label>
                <label class="flex items-center space-x-3 p-5 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                  <input type="checkbox" name="interests" value="Food" class="w-5 h-5 custom-checkbox text-orange-500 bg-gray-700/50 border-gray-500 rounded focus:ring-orange-500 focus:ring-2" />
                  <i class="fas fa-utensils text-yellow-400 group-hover:text-yellow-300 text-lg"></i>
                  <div>
                    <span class="text-white group-hover:text-orange-200 font-semibold">Local Food</span>
                    <p class="text-xs text-gray-400 group-hover:text-gray-300">Restaurants, cuisine</p>
                  </div>
                </label>
                <label class="flex items-center space-x-3 p-5 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                  <input type="checkbox" name="interests" value="Northern Lights" class="w-5 h-5 custom-checkbox text-orange-500 bg-gray-700/50 border-gray-500 rounded focus:ring-orange-500 focus:ring-2" />
                  <i class="fas fa-star text-purple-400 group-hover:text-purple-300 text-lg"></i>
                  <div>
                    <span class="text-white group-hover:text-orange-200 font-semibold">Northern Lights</span>
                    <p class="text-xs text-gray-400 group-hover:text-gray-300">Aurora hunting</p>
                  </div>
                </label>
                <label class="flex items-center space-x-3 p-5 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                  <input type="checkbox" name="interests" value="Photography" class="w-5 h-5 custom-checkbox text-orange-500 bg-gray-700/50 border-gray-500 rounded focus:ring-orange-500 focus:ring-2" />
                  <i class="fas fa-camera text-indigo-400 group-hover:text-indigo-300 text-lg"></i>
                  <div>
                    <span class="text-white group-hover:text-orange-200 font-semibold">Photography</span>
                    <p class="text-xs text-gray-400 group-hover:text-gray-300">Instagram spots</p>
                  </div>
                </label>
              </div>
            </div>

            <!-- Travel Pace -->
            <div>
              <label class="flex items-center gap-2 text-sm font-semibold text-orange-200 mb-4">
                <i class="fas fa-tachometer-alt"></i>What's your travel style?
              </label>
              <div class="grid md:grid-cols-3 gap-4">
                <label class="flex items-start space-x-3 p-6 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                  <input type="radio" name="pace" value="Relaxed" class="w-5 h-5 custom-radio text-orange-500 bg-gray-700/50 border-gray-500 focus:ring-orange-500 focus:ring-2 mt-1" />
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <i class="fas fa-spa text-green-400 group-hover:text-green-300"></i>
                      <span class="text-white group-hover:text-orange-200 font-semibold">Relaxed Explorer</span>
                    </div>
                    <p class="text-sm text-gray-400 group-hover:text-gray-300">Take it slow, savor moments, plenty of rest time</p>
                  </div>
                </label>
                <label class="flex items-start space-x-3 p-6 rounded-xl glass-card border-2 border-orange-400/70 bg-orange-400/15 transition-all duration-300 cursor-pointer group hover-subtle">
                  <input type="radio" name="pace" value="Moderate" class="w-5 h-5 custom-radio text-orange-500 bg-gray-700/50 border-gray-500 focus:ring-orange-500 focus:ring-2 mt-1" checked />
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <i class="fas fa-walking text-blue-400 group-hover:text-blue-300"></i>
                      <span class="text-orange-200 font-semibold">Balanced Adventurer</span>
                      <span class="text-xs bg-orange-500 text-white px-2 py-1 rounded-full">Recommended</span>
                    </div>
                    <p class="text-sm text-gray-300">Perfect mix of sightseeing and experiences</p>
                  </div>
                </label>
                <label class="flex items-start space-x-3 p-6 rounded-xl glass-card hover:border-orange-400/50 hover:bg-orange-400/5 transition-all duration-300 cursor-pointer group hover-subtle">
                  <input type="radio" name="pace" value="Fast" class="w-5 h-5 custom-radio text-orange-500 bg-gray-700/50 border-gray-500 focus:ring-orange-500 focus:ring-2 mt-1" />
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <i class="fas fa-running text-red-400 group-hover:text-red-300"></i>
                      <span class="text-white group-hover:text-orange-200 font-semibold">Action Packed</span>
                    </div>
                    <p class="text-sm text-gray-400 group-hover:text-gray-300">See everything, busy schedule, maximum experiences</p>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="pt-8 border-t border-gray-600">
                         <button 
               type="submit" 
               id="submitBtn"
               class="w-full btn-primary text-white font-bold py-6 rounded-2xl text-xl uppercase tracking-wide flex items-center justify-center gap-3"
             >
              <span id="btnText" class="flex items-center gap-3">
                <i class="fas fa-magic text-2xl"></i>
                <span>Create My Iceland Adventure</span>
                <i class="fas fa-arrow-right"></i>
              </span>
              <div id="loadingSpinner" class="loading-spinner hidden"></div>
            </button>
            <p class="text-center text-sm text-gray-400 mt-4">
              <i class="fas fa-clock mr-1"></i>
              This usually takes 10-15 seconds
            </p>
          </div>
        </form>
      </div>
    </section>

    <!-- Itinerary Output -->
    <section id="itineraryOutput" class="hidden py-20 px-6 page-section">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <div class="glass-effect-light p-8 rounded-2xl hover-lift mb-8">
            <i class="fas fa-route text-5xl text-orange-400 mb-6"></i>
            <h2 class="text-4xl font-bold text-orange-400 mb-4">Your Iceland Itinerary</h2>
            <div class="w-32 h-1 bg-gradient-to-r from-orange-400 to-orange-600 mx-auto rounded-full"></div>
          </div>
        </div>
        
        <div class="glass-effect p-8 rounded-3xl shadow-2xl hover-lift">
          <div id="outputText" class="whitespace-pre-line text-white text-lg leading-relaxed"></div>
          
          <!-- Action buttons -->
          <div class="flex gap-4 mt-8 pt-6 border-t border-gray-600">
            <button onclick="window.print()" class="flex items-center gap-2 glass-effect-light hover:bg-gray-600/50 text-white px-6 py-3 rounded-lg transition-all duration-300 hover-lift">
              <i class="fas fa-print"></i>
              Print Itinerary
            </button>
            <button onclick="location.reload()" class="flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-3 rounded-lg transition-all duration-300 hover-lift">
              <i class="fas fa-redo"></i>
              Plan Another Trip
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="py-16 px-6 page-section">
      <div class="floating-element w-3 h-3 top-10 left-10 opacity-20"></div>
      <div class="floating-element w-2 h-2 bottom-10 right-10 opacity-30"></div>
      
      <div class="max-w-4xl mx-auto">
        <div class="glass-effect p-8 rounded-2xl text-center hover-lift">
          <div class="mb-6">
            <h3 class="text-2xl font-bold text-orange-400 mb-2">TourOn</h3>
            <p class="text-gray-300">Your Iceland Adventure, Planned in Seconds</p>
          </div>
          <div class="text-gray-400">
            <p>&copy; 2024 TourOn. Made with <i class="fas fa-heart text-red-500"></i> for Iceland adventurers.</p>
          </div>
        </div>
      </div>
    </footer>

    <!-- JS Script -->
    <script>
      // Check if background image loads
      document.addEventListener('DOMContentLoaded', function() {
        const img = new Image();
        img.onload = function() {
          console.log('Background image loaded successfully');
        };
        img.onerror = function() {
          console.log('Background image failed to load');
          document.body.classList.add('no-bg-image');
        };
        img.src = 'background_northern_lights.jpg';
      });

      // Initialize Flatpickr calendar
      document.addEventListener('DOMContentLoaded', function() {
        flatpickr("#dates", {
          mode: "range",
          dateFormat: "M j, Y",
          minDate: "today",
          showMonths: 2,
          monthSelectorType: "static",
          locale: {
            rangeSeparator: " → "
          },
          onReady: function(selectedDates, dateStr, instance) {
            // Add custom styling after calendar is ready
            const calendar = instance.calendarContainer;
            calendar.style.fontFamily = 'Inter, sans-serif';
          },
          onChange: function(selectedDates, dateStr, instance) {
            if (selectedDates.length === 2) {
              const startDate = selectedDates[0];
              const endDate = selectedDates[1];
              const diffTime = Math.abs(endDate - startDate);
              const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
              
              // Show trip duration
              const durationElement = document.getElementById('tripDuration');
              if (durationElement) {
                durationElement.remove();
              }
              
              const durationText = document.createElement('p');
              durationText.id = 'tripDuration';
              durationText.className = 'text-sm text-orange-300 mt-2';
              durationText.innerHTML = `<i class="fas fa-clock mr-1"></i>Trip duration: ${diffDays} days`;
              
              const dateInput = document.getElementById('dates');
              dateInput.parentNode.appendChild(durationText);
            }
          }
        });
      });

      document.getElementById('tripForm').addEventListener('submit', async (e) => {
        e.preventDefault();

        // Show loading state
        const submitBtn = document.getElementById('submitBtn');
        const btnText = document.getElementById('btnText');
        const loadingSpinner = document.getElementById('loadingSpinner');
        
        btnText.classList.add('hidden');
        loadingSpinner.classList.remove('hidden');
        submitBtn.disabled = true;
        submitBtn.classList.add('opacity-75', 'cursor-not-allowed');

        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const dates = document.getElementById('dates').value;
        const pace = document.querySelector('input[name="pace"]:checked').value;
        const interests = Array.from(document.querySelectorAll('input[name="interests"]:checked')).map((el) => el.value);

        try {
          const response = await fetch('/.netlify/functions/generateTrip', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name, email, dates, pace, interests }),
          });

          const data = await response.json();
          document.getElementById('outputText').textContent = data.itinerary || "Something went wrong.";
          
          // Smooth scroll to results
          document.getElementById('itineraryOutput').classList.remove('hidden');
          document.getElementById('itineraryOutput').scrollIntoView({ behavior: 'smooth' });
          
        } catch (error) {
          console.error('Error:', error);
          document.getElementById('outputText').textContent = "Sorry, there was an error generating your trip. Please try again.";
          document.getElementById('itineraryOutput').classList.remove('hidden');
        } finally {
          // Reset button state
          btnText.classList.remove('hidden');
          loadingSpinner.classList.add('hidden');
          submitBtn.disabled = false;
          submitBtn.classList.remove('opacity-75', 'cursor-not-allowed');
        }
      });

      // Add smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          });
        });
      });

      // Add entrance animation on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-fade-in');
          }
        });
      }, observerOptions);

      // Observe form elements
      document.querySelectorAll('.input-group, .grid').forEach(el => {
        observer.observe(el);
      });

      // Mobile-specific enhancements
      document.addEventListener('DOMContentLoaded', function() {
        // Prevent zoom on input focus for iOS
        if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
          const inputs = document.querySelectorAll('input, select, textarea');
          inputs.forEach(input => {
            input.addEventListener('focus', function() {
              this.style.fontSize = '16px';
            });
            input.addEventListener('blur', function() {
              this.style.fontSize = '';
            });
          });
        }

        // Add touch feedback for mobile
        const touchElements = document.querySelectorAll('button, label, .hover-lift, .hover-subtle');
        touchElements.forEach(element => {
          element.addEventListener('touchstart', function() {
            this.style.transform = 'scale(0.98)';
          });
          
          element.addEventListener('touchend', function() {
            setTimeout(() => {
              this.style.transform = '';
            }, 150);
          });
        });

        // Improve mobile calendar experience
        const dateInput = document.getElementById('dates');
        if (dateInput) {
          dateInput.addEventListener('click', function() {
            // Add mobile-friendly class when calendar opens
            document.body.classList.add('calendar-open');
          });
        }

        // Handle orientation changes
        window.addEventListener('orientationchange', function() {
          setTimeout(() => {
            window.scrollTo(0, 0);
          }, 500);
        });

        // Smooth scroll for mobile anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              const offsetTop = target.offsetTop - 20; // Add some padding
              window.scrollTo({
                top: offsetTop,
                behavior: 'smooth'
              });
            }
          });
        });
      });
    </script>
  </body>
</html>
